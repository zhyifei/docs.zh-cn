---
title: 隐私和数据安全性
ms.date: 03/30/2017
ms.assetid: 46fa5839-adf7-4c7c-bce3-71e941fa7de9
ms.openlocfilehash: 3852e6034ff78b362bd67a05bd828d3033731a85
ms.sourcegitcommit: 5b6d778ebb269ee6684fb57ad69a8c28b06235b9
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 04/08/2019
ms.locfileid: "59081820"
---
# <a name="privacy-and-data-security"></a><span data-ttu-id="cbe0e-102">隐私和数据安全性</span><span class="sxs-lookup"><span data-stu-id="cbe0e-102">Privacy and Data Security</span></span>
<span data-ttu-id="cbe0e-103">保护和管理 ADO.NET 应用程序中的敏感信息依赖于用于创建这些信息的基础产品和技术。</span><span class="sxs-lookup"><span data-stu-id="cbe0e-103">Safeguarding and managing sensitive information in an ADO.NET application is dependent upon the underlying products and technologies used to create it.</span></span> <span data-ttu-id="cbe0e-104">ADO.NET 不直接提供用于保护或加密数据的服务。</span><span class="sxs-lookup"><span data-stu-id="cbe0e-104">ADO.NET does not directly provide services for securing or encrypting data.</span></span>  
  
## <a name="cryptography-and-hash-codes"></a><span data-ttu-id="cbe0e-105">加密和哈希代码</span><span class="sxs-lookup"><span data-stu-id="cbe0e-105">Cryptography and Hash Codes</span></span>  
 <span data-ttu-id="cbe0e-106">可从 ADO.NET 应用程序使用 .NET Framework <xref:System.Security.Cryptography> 命名空间中的类，以防止未经授权的第三方读取或修改数据。</span><span class="sxs-lookup"><span data-stu-id="cbe0e-106">The classes in the .NET Framework <xref:System.Security.Cryptography> namespace can be used from your ADO.NET applications to prevent data from being read or modified by unauthorized third parties.</span></span> <span data-ttu-id="cbe0e-107">某些类是非托管 Microsoft CryptoAPI 的包装，而其他一些类则是托管实现。</span><span class="sxs-lookup"><span data-stu-id="cbe0e-107">Some classes are wrappers for the unmanaged Microsoft CryptoAPI, while others are managed implementations.</span></span> <span data-ttu-id="cbe0e-108">[加密服务](../../../../docs/standard/security/cryptographic-services.md)主题提供了.NET Framework 中的加密的概述，介绍如何实现加密以及如何执行特定加密任务。</span><span class="sxs-lookup"><span data-stu-id="cbe0e-108">The [Cryptographic Services](../../../../docs/standard/security/cryptographic-services.md) topic provides an overview of cryptography in the .NET Framework, describes how cryptograph is implemented, and how you can perform specific cryptographic tasks.</span></span>  
  
 <span data-ttu-id="cbe0e-109">与加密（允许对数据进行加密然后解密）不同，散列数据是一个单向过程。</span><span class="sxs-lookup"><span data-stu-id="cbe0e-109">Unlike cryptography, which allows data to be encrypted and then decrypted, hashing data is a one-way process.</span></span> <span data-ttu-id="cbe0e-110">如果要通过检查数据是否已更改来避免数据被篡改，哈希数据非常有用：如果输入字符串相同，哈希算法总是生成相同的短输出值，很容易进行比较。</span><span class="sxs-lookup"><span data-stu-id="cbe0e-110">Hashing data is useful when you want to prevent tampering by checking that data has not been altered: given identical input strings, hashing algorithms always produce identical short output values that can easily be compared.</span></span> <span data-ttu-id="cbe0e-111">[使用哈希代码确保数据完整性](../../../../docs/standard/security/ensuring-data-integrity-with-hash-codes.md)描述如何生成和验证哈希值。</span><span class="sxs-lookup"><span data-stu-id="cbe0e-111">[Ensuring Data Integrity with Hash Codes](../../../../docs/standard/security/ensuring-data-integrity-with-hash-codes.md) describes how you can generate and verify hash values.</span></span>  
  
## <a name="encrypting-configuration-files"></a><span data-ttu-id="cbe0e-112">加密配置文件</span><span class="sxs-lookup"><span data-stu-id="cbe0e-112">Encrypting Configuration Files</span></span>  
 <span data-ttu-id="cbe0e-113">保护应用程序时，最重要的目标之一是保护对数据源的访问。</span><span class="sxs-lookup"><span data-stu-id="cbe0e-113">Protecting access to your data source is one of the most important goals when securing an application.</span></span> <span data-ttu-id="cbe0e-114">如果连接字符串未受保护，那么它就是一个潜在漏洞。</span><span class="sxs-lookup"><span data-stu-id="cbe0e-114">A connection string presents a potential vulnerability if it is not secured.</span></span> <span data-ttu-id="cbe0e-115">配置文件中保存的连接字符串存储在标准 XML 文件（.NET Framework 已为其定义了一组常用元素）中。</span><span class="sxs-lookup"><span data-stu-id="cbe0e-115">Connection strings saved in configuration files are stored in standard XML files for which the .NET Framework has defined a common set of elements.</span></span> <span data-ttu-id="cbe0e-116">通过受保护的配置，您可以加密配置文件中的敏感信息。</span><span class="sxs-lookup"><span data-stu-id="cbe0e-116">Protected configuration enables you to encrypt sensitive information in a configuration file.</span></span> <span data-ttu-id="cbe0e-117">虽然受保护的配置主要是为 ASP.NET 应用程序设计的，但它也可以用于加密 Windows 应用程序中的配置文件部分。</span><span class="sxs-lookup"><span data-stu-id="cbe0e-117">Although primarily designed for ASP.NET applications, protected configuration can also be used to encrypt configuration file sections in Windows applications.</span></span> <span data-ttu-id="cbe0e-118">有关详细信息，请参阅[保护连接信息](../../../../docs/framework/data/adonet/protecting-connection-information.md)。</span><span class="sxs-lookup"><span data-stu-id="cbe0e-118">For more information, see [Protecting Connection Information](../../../../docs/framework/data/adonet/protecting-connection-information.md).</span></span>  
  
## <a name="securing-string-values-in-memory"></a><span data-ttu-id="cbe0e-119">保护内存中的字符串值</span><span class="sxs-lookup"><span data-stu-id="cbe0e-119">Securing String Values in Memory</span></span>  
 <span data-ttu-id="cbe0e-120">如果 <xref:System.String> 对象包含敏感信息（如密码、信用卡号或个人数据），将存在信息使用完后可能被泄露的风险，因为应用程序无法从计算机内存中删除该数据。</span><span class="sxs-lookup"><span data-stu-id="cbe0e-120">If a <xref:System.String> object contains sensitive information, such as a password, credit card number, or personal data, there is a risk that the information could be revealed after it is used because the application cannot delete the data from computer memory.</span></span>  
  
 <span data-ttu-id="cbe0e-121"><xref:System.String> 不可变；其值在创建后无法修改。</span><span class="sxs-lookup"><span data-stu-id="cbe0e-121">A <xref:System.String> is immutable; its value cannot be modified once it has been created.</span></span> <span data-ttu-id="cbe0e-122">看起来要修改字符串值的更改实际上在内存中创建了 <xref:System.String> 对象的一个新实例，以将该数据存储为纯文本。</span><span class="sxs-lookup"><span data-stu-id="cbe0e-122">Changes that appear to modify the string value actually create a new instance of a <xref:System.String> object in memory, storing the data as plain text.</span></span> <span data-ttu-id="cbe0e-123">此外，无法预测何时将从内存中删除字符串实例。</span><span class="sxs-lookup"><span data-stu-id="cbe0e-123">In addition, it is not possible to predict when the string instances will be deleted from memory.</span></span> <span data-ttu-id="cbe0e-124">字符串的内存回收并不是根据 .NET 垃圾回收确定的。</span><span class="sxs-lookup"><span data-stu-id="cbe0e-124">Memory reclamation with strings is not deterministic with .NET garbage collection.</span></span> <span data-ttu-id="cbe0e-125">如果您的数据确实是敏感数据，则应避免使用 <xref:System.String> 和 <xref:System.Text.StringBuilder> 类。</span><span class="sxs-lookup"><span data-stu-id="cbe0e-125">You should avoid using the <xref:System.String> and <xref:System.Text.StringBuilder> classes if your data is truly sensitive.</span></span>  
  
 <span data-ttu-id="cbe0e-126"><xref:System.Security.SecureString> 类提供了在内存中使用数据保护 API (DPAPI) 加密文本的方法。</span><span class="sxs-lookup"><span data-stu-id="cbe0e-126">The <xref:System.Security.SecureString> class provides methods for encrypting text using the Data Protection API (DPAPI) in memory.</span></span> <span data-ttu-id="cbe0e-127">这样，就可以在不再需要字符串时将其从内存中删除。</span><span class="sxs-lookup"><span data-stu-id="cbe0e-127">The string is then deleted from memory when it is no longer needed.</span></span> <span data-ttu-id="cbe0e-128">没有任何 `ToString` 方法可快速读取 <xref:System.Security.SecureString> 的内容。</span><span class="sxs-lookup"><span data-stu-id="cbe0e-128">There is no `ToString` method to quickly read the contents of a <xref:System.Security.SecureString>.</span></span> <span data-ttu-id="cbe0e-129">您可以不使用值或通过向其传递一个指向 `SecureString` 对象的数组的指针来初始化 <xref:System.Char> 的新实例。</span><span class="sxs-lookup"><span data-stu-id="cbe0e-129">You can initialize a new instance of `SecureString` with no value or by passing it a pointer to an array of <xref:System.Char> objects.</span></span> <span data-ttu-id="cbe0e-130">这样，您就可以使用类的各种方法来处理字符串。</span><span class="sxs-lookup"><span data-stu-id="cbe0e-130">You can then use the various methods of the class to work with the string.</span></span> <span data-ttu-id="cbe0e-131">有关详细信息，下载[SecureString 示例应用程序](https://go.microsoft.com/fwlink/?LinkId=120418)，其中演示了如何使用`SecureString`类。</span><span class="sxs-lookup"><span data-stu-id="cbe0e-131">For more information, download the [SecureString Sample Application](https://go.microsoft.com/fwlink/?LinkId=120418), which demonstrates how to use the `SecureString` class from.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="cbe0e-132">请参阅</span><span class="sxs-lookup"><span data-stu-id="cbe0e-132">See also</span></span>

- [<span data-ttu-id="cbe0e-133">保证 ADO.NET 应用程序的安全</span><span class="sxs-lookup"><span data-stu-id="cbe0e-133">Securing ADO.NET Applications</span></span>](../../../../docs/framework/data/adonet/securing-ado-net-applications.md)
- [<span data-ttu-id="cbe0e-134">SQL Server 安全性</span><span class="sxs-lookup"><span data-stu-id="cbe0e-134">SQL Server Security</span></span>](../../../../docs/framework/data/adonet/sql/sql-server-security.md)
- [<span data-ttu-id="cbe0e-135">ADO.NET 托管提供程序和 DataSet 开发人员中心</span><span class="sxs-lookup"><span data-stu-id="cbe0e-135">ADO.NET Managed Providers and DataSet Developer Center</span></span>](https://go.microsoft.com/fwlink/?LinkId=217917)
