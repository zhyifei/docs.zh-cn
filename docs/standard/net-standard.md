---
title: .NET Standard
description: 了解 .NET Standard 及其版本以及支持它的 .NET 实现。
author: mairaw
ms.author: mairaw
ms.date: 07/19/2018
ms.technology: dotnet-standard
ms.assetid: c044882c-af15-45f2-96d1-534557a5ee9b
ms.openlocfilehash: d759ab8fe436ad68ca67943b7a4330cea093ae52
ms.sourcegitcommit: 6b308cf6d627d78ee36dbbae8972a310ac7fd6c8
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 01/23/2019
ms.locfileid: "54535913"
---
# <a name="net-standard"></a><span data-ttu-id="b016e-103">.NET Standard</span><span class="sxs-lookup"><span data-stu-id="b016e-103">.NET Standard</span></span>

<span data-ttu-id="b016e-104">[.NET Standard](https://github.com/dotnet/standard) 是一套正式的 .NET API 规范，有望在所有 .NET 实现中推出。</span><span class="sxs-lookup"><span data-stu-id="b016e-104">The [.NET Standard](https://github.com/dotnet/standard) is a formal specification of .NET APIs that are intended to be available on all .NET implementations.</span></span> <span data-ttu-id="b016e-105">推出 .NET Standard 的背后动机是要提高 .NET 生态系统中的一致性。</span><span class="sxs-lookup"><span data-stu-id="b016e-105">The motivation behind the .NET Standard is establishing greater uniformity in the .NET ecosystem.</span></span> <span data-ttu-id="b016e-106">[ECMA 335](https://github.com/dotnet/coreclr/blob/master/Documentation/project-docs/dotnet-standards.md) 持续为 .NET 实现行为建立统一性，但适用于 .NET 库实现的 .NET 基类库 (BCL) 没有类似的规范。</span><span class="sxs-lookup"><span data-stu-id="b016e-106">[ECMA 335](https://github.com/dotnet/coreclr/blob/master/Documentation/project-docs/dotnet-standards.md) continues to establish uniformity for .NET implementation behavior, but there's no similar spec for the .NET Base Class Libraries (BCL) for .NET library implementations.</span></span>

<span data-ttu-id="b016e-107">.NET Standard 可实现以下重要情境：</span><span class="sxs-lookup"><span data-stu-id="b016e-107">The .NET Standard enables the following key scenarios:</span></span>

- <span data-ttu-id="b016e-108">为要实现的所有 .NET 实现定义一组统一的、与工作负荷无关的 BCL API。</span><span class="sxs-lookup"><span data-stu-id="b016e-108">Defines uniform set of BCL APIs for all .NET implementations to implement, independent of workload.</span></span>
- <span data-ttu-id="b016e-109">使开发人员能够通过同一组 API 生成可在各种 .NET 实现中使用的可移植库。</span><span class="sxs-lookup"><span data-stu-id="b016e-109">Enables developers to produce portable libraries that are usable across .NET implementations, using this same set of APIs.</span></span>
- <span data-ttu-id="b016e-110">减少甚至消除由于 .NET API 方面的原因而对共享源代码进行的条件性编译（仅适用于 OS API）。</span><span class="sxs-lookup"><span data-stu-id="b016e-110">Reduces or even eliminates conditional compilation of shared source due to .NET APIs, only for OS APIs.</span></span>

<span data-ttu-id="b016e-111">各种 .NET 实现以特定版本的 .NET Standard 为目标。</span><span class="sxs-lookup"><span data-stu-id="b016e-111">The various .NET implementations target specific versions of .NET Standard.</span></span> <span data-ttu-id="b016e-112">每个 .NET 实现版本都会公布它所支持的最高 .NET Standard 版本，这种声明意味着它也支持以前的版本。</span><span class="sxs-lookup"><span data-stu-id="b016e-112">Each .NET implementation version advertises the highest .NET Standard version it supports, a statement that means it also supports previous versions.</span></span> <span data-ttu-id="b016e-113">例如，.NET Framework 4.6 实现 .NET Standard 1.3。也就是说，它会公开在 .NET Standard 版本 1.0 到 1.3 中定义的所有 API。</span><span class="sxs-lookup"><span data-stu-id="b016e-113">For example, the .NET Framework 4.6 implements .NET Standard 1.3, which means that it exposes all APIs defined in .NET Standard versions 1.0 through 1.3.</span></span> <span data-ttu-id="b016e-114">同样，.NET Framework 4.6.1 实现 .NET Standard 1.4，而 .NET Core 1.0 则实现 .NET Standard 1.6。</span><span class="sxs-lookup"><span data-stu-id="b016e-114">Similarly, the .NET Framework 4.6.1 implements .NET Standard 1.4, while .NET Core 1.0 implements .NET Standard 1.6.</span></span>

## <a name="net-implementation-support"></a><span data-ttu-id="b016e-115">.NET 实现支持</span><span class="sxs-lookup"><span data-stu-id="b016e-115">.NET implementation support</span></span>

<span data-ttu-id="b016e-116">下表列出了支持每个 .NET Standard 版本的最低平台版本。</span><span class="sxs-lookup"><span data-stu-id="b016e-116">The following table lists the minimum platform versions that support each .NET Standard version.</span></span>

[!INCLUDE [net-standard-table](~/includes/net-standard-table.md)]

<span data-ttu-id="b016e-117">若要查找可以定位的 .NET Standard 最高版本，请按照以下步骤操作：</span><span class="sxs-lookup"><span data-stu-id="b016e-117">To find the highest version of .NET Standard that you can target, do the following steps:</span></span>

1. <span data-ttu-id="b016e-118">查找要运行的 .NET 实现所在的行。</span><span class="sxs-lookup"><span data-stu-id="b016e-118">Find the row that indicates the .NET implementation you want to run on.</span></span>
2. <span data-ttu-id="b016e-119">在这一行中从右向左查找可以定位的 .NET Standard 版本所在的列。</span><span class="sxs-lookup"><span data-stu-id="b016e-119">Find the column in that row that indicates your version starting from right to left.</span></span>
3. <span data-ttu-id="b016e-120">列标题指示目标支持的 .NET Standard 版本。</span><span class="sxs-lookup"><span data-stu-id="b016e-120">The column header indicates the .NET Standard version that your target supports.</span></span> <span data-ttu-id="b016e-121">此外可以面向任何更低的 .NET Standard 版本。</span><span class="sxs-lookup"><span data-stu-id="b016e-121">You may also target any lower .NET Standard version.</span></span> <span data-ttu-id="b016e-122">更高版本的 .NET Standard 还支持实现。</span><span class="sxs-lookup"><span data-stu-id="b016e-122">Higher .NET Standard versions will also support your implementation.</span></span>
4. <span data-ttu-id="b016e-123">对要定位的每个平台重复执行此过程。</span><span class="sxs-lookup"><span data-stu-id="b016e-123">Repeat this process for each platform you want to target.</span></span> <span data-ttu-id="b016e-124">如果有多个目标平台，应选择它们都支持的最高版本。</span><span class="sxs-lookup"><span data-stu-id="b016e-124">If you have more than one target platform, you should pick the smaller version among them.</span></span> <span data-ttu-id="b016e-125">例如，如果要在 .NET Framework 4.5 和 .NET Core 1.0 上运行，可以使用的最高 .NET Standard 版本是 .NET Standard 1.1。</span><span class="sxs-lookup"><span data-stu-id="b016e-125">For example, if you want to run on .NET Framework 4.5 and .NET Core 1.0, the highest .NET Standard version you can use is .NET Standard 1.1.</span></span>

### <a name="which-net-standard-version-to-target"></a><span data-ttu-id="b016e-126">要定位哪个 .NET Standard 版本</span><span class="sxs-lookup"><span data-stu-id="b016e-126">Which .NET Standard version to target</span></span>

<span data-ttu-id="b016e-127">选择 .NET Standard 版本时，应权衡以下因素：</span><span class="sxs-lookup"><span data-stu-id="b016e-127">When choosing a .NET Standard version, you should consider this trade-off:</span></span>

- <span data-ttu-id="b016e-128">版本越高，可使用的 API 就越多。</span><span class="sxs-lookup"><span data-stu-id="b016e-128">The higher the version, the more APIs are available to you.</span></span>
- <span data-ttu-id="b016e-129">版本越低，可实现它的平台就越多。</span><span class="sxs-lookup"><span data-stu-id="b016e-129">The lower the version, the more platforms implement it.</span></span>

<span data-ttu-id="b016e-130">一般来说，建议尽可能定位*最低*版本 .NET Standard。</span><span class="sxs-lookup"><span data-stu-id="b016e-130">In general, we recommend you to target the *lowest* version of .NET Standard possible.</span></span> <span data-ttu-id="b016e-131">因此，在找到可以定位的最高版本 .NET Standard 后，请按照以下步骤操作：</span><span class="sxs-lookup"><span data-stu-id="b016e-131">So, after you find the highest .NET Standard version you can target, follow these steps:</span></span>

1. <span data-ttu-id="b016e-132">定位前一更低版本的 .NET Standard，然后生成项目。</span><span class="sxs-lookup"><span data-stu-id="b016e-132">Target the next lower version of .NET Standard and build your project.</span></span>
2. <span data-ttu-id="b016e-133">如果成功生成项目，请重复执行第 1 步。</span><span class="sxs-lookup"><span data-stu-id="b016e-133">If your project builds successfully, repeat step 1.</span></span> <span data-ttu-id="b016e-134">否则，重新定位到后一较高版本，这就是应该使用的版本。</span><span class="sxs-lookup"><span data-stu-id="b016e-134">Otherwise, retarget to the next higher version and that's the version you should use.</span></span>

<span data-ttu-id="b016e-135">但是，定位更低版本的 .NET Standard 会引入许多支持依赖项。</span><span class="sxs-lookup"><span data-stu-id="b016e-135">However, targeting lower .NET Standard versions introduces a number of support dependencies.</span></span> <span data-ttu-id="b016e-136">如果项目定位 .NET Standard 1.x，我们建议还定位 .NET Standard 2.0。</span><span class="sxs-lookup"><span data-stu-id="b016e-136">If your project targets .NET Standard 1.x, we recommend that you *also* target .NET Standard 2.0.</span></span> <span data-ttu-id="b016e-137">这简化了在 .NET Standard 2.0 兼容框架上运行的库的用户的依赖项关系图，并减少了下载所需的包数。</span><span class="sxs-lookup"><span data-stu-id="b016e-137">This simplifies the dependency graph for users of your library that run on .NET Standard 2.0 compatible frameworks, and it reduces the number of packages they need to download.</span></span>

### <a name="net-standard-versioning-rules"></a><span data-ttu-id="b016e-138">.NET Standard 版本控制规则</span><span class="sxs-lookup"><span data-stu-id="b016e-138">.NET Standard versioning rules</span></span>

<span data-ttu-id="b016e-139">版本控制规则主要有两个：</span><span class="sxs-lookup"><span data-stu-id="b016e-139">There are two primary versioning rules:</span></span>

- <span data-ttu-id="b016e-140">累加性：.NET Standard 版本在逻辑上形成同心圆。也就是说，较高的版本包含较低版本的所有 API。</span><span class="sxs-lookup"><span data-stu-id="b016e-140">Additive: .NET Standard versions are logically concentric circles: higher versions incorporate all APIs from previous versions.</span></span> <span data-ttu-id="b016e-141">版本之间没有重大更改。</span><span class="sxs-lookup"><span data-stu-id="b016e-141">There are no breaking changes between versions.</span></span>
- <span data-ttu-id="b016e-142">不可变：一旦发布，.NET Standard 版本就会冻结起来。</span><span class="sxs-lookup"><span data-stu-id="b016e-142">Immutable: Once shipped, .NET Standard versions are frozen.</span></span> <span data-ttu-id="b016e-143">新 API 首先会在特定的 .NET 实现（如 .NET Core）中可用。</span><span class="sxs-lookup"><span data-stu-id="b016e-143">New APIs first become available in specific .NET implementations, such as .NET Core.</span></span> <span data-ttu-id="b016e-144">如果 .NET Standard 评审委员会认为新 API 应可用于所有 .NET 实现，则会将它们添加到新的 .NET Standard 版本中。</span><span class="sxs-lookup"><span data-stu-id="b016e-144">If the .NET Standard review board believes the new APIs should be available for all .NET implementations, they're added in a new .NET Standard version.</span></span>

## <a name="specification"></a><span data-ttu-id="b016e-145">规范</span><span class="sxs-lookup"><span data-stu-id="b016e-145">Specification</span></span>

<span data-ttu-id="b016e-146">.NET Standard 规范是一组标准化的 API。</span><span class="sxs-lookup"><span data-stu-id="b016e-146">The .NET Standard specification is a standardized set of APIs.</span></span> <span data-ttu-id="b016e-147">此规范由 .NET 实现者（具体而言，由 Microsoft（包括 .NET Framework、NET Core 和 Mono）和 Unity）进行维护。</span><span class="sxs-lookup"><span data-stu-id="b016e-147">The specification is maintained by .NET implementors, specifically Microsoft (includes .NET Framework, .NET Core, and Mono) and Unity.</span></span> <span data-ttu-id="b016e-148">在通过 [GitHub](https://github.com/dotnet/standard) 建立新 .NET Standard 版本的过程中，采用公众反馈流程。</span><span class="sxs-lookup"><span data-stu-id="b016e-148">A public feedback process is used as part of establishing new .NET Standard versions through [GitHub](https://github.com/dotnet/standard).</span></span>

### <a name="official-artifacts"></a><span data-ttu-id="b016e-149">正式项目</span><span class="sxs-lookup"><span data-stu-id="b016e-149">Official artifacts</span></span>

<span data-ttu-id="b016e-150">正式规范是一组用于定义标准中包含的 API 的 .cs 文件。</span><span class="sxs-lookup"><span data-stu-id="b016e-150">The official specification is a set of .cs files that define the APIs that are part of the standard.</span></span> <span data-ttu-id="b016e-151">[dotnet/standard 存储库](https://github.com/dotnet/standard)中的 [Ref 目录](https://github.com/dotnet/standard/tree/master/src/netstandard/ref)定义了 .NET Standard API。</span><span class="sxs-lookup"><span data-stu-id="b016e-151">The [ref directory](https://github.com/dotnet/standard/tree/master/src/netstandard/ref) in the [dotnet/standard repository](https://github.com/dotnet/standard) defines the .NET Standard APIs.</span></span>

<span data-ttu-id="b016e-152">[NETStandard.Library](https://www.nuget.org/packages/NETStandard.Library) 元包（[源代码](https://github.com/dotnet/standard/blob/master/src/netstandard/pkg/NETStandard.Library.dependencies.props)）描述用于部分定义一个或多个 .NET Standard 版本的库集。</span><span class="sxs-lookup"><span data-stu-id="b016e-152">The [NETStandard.Library](https://www.nuget.org/packages/NETStandard.Library) metapackage ([source](https://github.com/dotnet/standard/blob/master/src/netstandard/pkg/NETStandard.Library.dependencies.props)) describes the set of libraries that define (in part) one or more .NET Standard versions.</span></span>

<span data-ttu-id="b016e-153">给定的组件（如 `System.Runtime`）描述：</span><span class="sxs-lookup"><span data-stu-id="b016e-153">A given component, like `System.Runtime`, describes:</span></span>

- <span data-ttu-id="b016e-154">.NET Standard 的一部分（即其范围）。</span><span class="sxs-lookup"><span data-stu-id="b016e-154">Part of .NET Standard (just its scope).</span></span>
- <span data-ttu-id="b016e-155">.NET Standard 在此范围内的多个版本。</span><span class="sxs-lookup"><span data-stu-id="b016e-155">Multiple versions of .NET Standard, for that scope.</span></span>

<span data-ttu-id="b016e-156">标准库提供派生项目以方便读取，并实现某些开发人员方案（例如，使用编译器）。</span><span class="sxs-lookup"><span data-stu-id="b016e-156">Derivative artifacts are provided to enable more convenient reading and to enable certain developer scenarios (for example, using a compiler).</span></span>

- [<span data-ttu-id="b016e-157">Markdown 中的 API 列表</span><span class="sxs-lookup"><span data-stu-id="b016e-157">API list in markdown</span></span>](https://github.com/dotnet/standard/tree/master/docs/versions)
- <span data-ttu-id="b016e-158">引用程序集，以 [NuGet 包](../core/packages.md)的形式分发，由 [NETStandard.Library](https://www.nuget.org/packages/NETStandard.Library/) 元包引用。</span><span class="sxs-lookup"><span data-stu-id="b016e-158">Reference assemblies, distributed as [NuGet packages](../core/packages.md) and referenced by the [NETStandard.Library](https://www.nuget.org/packages/NETStandard.Library/) metapackage.</span></span>

### <a name="package-representation"></a><span data-ttu-id="b016e-159">包表示形式</span><span class="sxs-lookup"><span data-stu-id="b016e-159">Package representation</span></span>

<span data-ttu-id="b016e-160">.NET Standard 引用程序集的主要分发载体是 [NuGet 包](../core/packages.md)。</span><span class="sxs-lookup"><span data-stu-id="b016e-160">The primary distribution vehicle for the .NET Standard reference assemblies is [NuGet packages](../core/packages.md).</span></span> <span data-ttu-id="b016e-161">实现会以适用于每个 .NET 实现的各种方式提供。</span><span class="sxs-lookup"><span data-stu-id="b016e-161">Implementations are delivered in a variety of ways, appropriate for each .NET implementation.</span></span>

<span data-ttu-id="b016e-162">NuGet 包面向一个或多个[框架](frameworks.md)。</span><span class="sxs-lookup"><span data-stu-id="b016e-162">NuGet packages target one or more [frameworks](frameworks.md).</span></span> <span data-ttu-id="b016e-163">.NET Standard 包定位“.NET Standard”框架。</span><span class="sxs-lookup"><span data-stu-id="b016e-163">The .NET Standard packages target the ".NET Standard" framework.</span></span> <span data-ttu-id="b016e-164">可以使用 `netstandard` [精简 TFM](frameworks.md)（例如 `netstandard1.4`）来设定 .NET Standard 框架作为目标。</span><span class="sxs-lookup"><span data-stu-id="b016e-164">You can target the .NET Standard framework using the `netstandard` [compact TFM](frameworks.md) (for example, `netstandard1.4`).</span></span> <span data-ttu-id="b016e-165">如果构建的库将用于在多个运行时上运行，就应将此框架作为目标。</span><span class="sxs-lookup"><span data-stu-id="b016e-165">Libraries that are intended to run on multiple runtimes should target this framework.</span></span> <span data-ttu-id="b016e-166">对于最广泛的 API 集，将 `netstandard2.0` 设定为目标，因为 .NET Standard 2.0 的可用 API 数量比 .NET Standard 1.6 的两倍还多。</span><span class="sxs-lookup"><span data-stu-id="b016e-166">For the broadest set of APIs, target `netstandard2.0` since the number of available APIs more than doubled between .NET Standard 1.6 and 2.0.</span></span>

<span data-ttu-id="b016e-167">[`NETStandard.Library`](https://www.nuget.org/packages/NETStandard.Library/) 元包引用定义 .NET Standard 的一整套 NuGet 包。</span><span class="sxs-lookup"><span data-stu-id="b016e-167">The [`NETStandard.Library`](https://www.nuget.org/packages/NETStandard.Library/) metapackage references the complete set of NuGet packages that define .NET Standard.</span></span>  <span data-ttu-id="b016e-168">要指定 `netstandard` 作为目标，最常见的方法是引用此元包。</span><span class="sxs-lookup"><span data-stu-id="b016e-168">The most common way to target `netstandard` is by referencing this metapackage.</span></span> <span data-ttu-id="b016e-169">它描述并提供了对大约 40 个 .NET 库及定义 .Net Standard 的相关 API 的访问权限。</span><span class="sxs-lookup"><span data-stu-id="b016e-169">It describes and provides access to the ~40 .NET libraries and associated APIs that define .NET Standard.</span></span> <span data-ttu-id="b016e-170">可以引用以 `netstandard` 为目标的其他包来使用其他 API。</span><span class="sxs-lookup"><span data-stu-id="b016e-170">You can reference additional packages that target `netstandard` to get access to additional APIs.</span></span>

### <a name="versioning"></a><span data-ttu-id="b016e-171">版本管理</span><span class="sxs-lookup"><span data-stu-id="b016e-171">Versioning</span></span>

<span data-ttu-id="b016e-172">规范并不是单一的，而是一组版本不断线性递增的 API。</span><span class="sxs-lookup"><span data-stu-id="b016e-172">The specification is not singular, but an incrementally growing and linearly versioned set of APIs.</span></span> <span data-ttu-id="b016e-173">该标准的第一个版本建立了一组基准 API。</span><span class="sxs-lookup"><span data-stu-id="b016e-173">The first version of the standard establishes a baseline set of APIs.</span></span> <span data-ttu-id="b016e-174">后续版本将添加 API，并继承以前的版本定义的 API。</span><span class="sxs-lookup"><span data-stu-id="b016e-174">Subsequent versions add APIs and inherit APIs defined by previous versions.</span></span> <span data-ttu-id="b016e-175">在从标准中移除 API 方面，并没有成文的规定。</span><span class="sxs-lookup"><span data-stu-id="b016e-175">There is no established provision for removing APIs from the standard.</span></span>

<span data-ttu-id="b016e-176">.NET Standard 并不特定于任何一种 .NET 实现，也不与其中任一运行时的版本控制方案匹配。</span><span class="sxs-lookup"><span data-stu-id="b016e-176">.NET Standard is not specific to any one .NET implementation, nor does it match the versioning scheme of any of those runtimes.</span></span>

<span data-ttu-id="b016e-177">添加到任何实现（例如 .NET Framework、.NET Core 和 Mono）的 API 可被视为适合添加到规范中的候选项，尤其是本质上非常重要的 API。</span><span class="sxs-lookup"><span data-stu-id="b016e-177">APIs added to any of the implementations (such as, .NET Framework, .NET Core and Mono) can be considered as candidates to add to the specification, particularly if they are thought to be fundamental in nature.</span></span> <span data-ttu-id="b016e-178">[.NET Standard 的新版本](https://github.com/dotnet/standard/blob/master/docs/versions.md)根据 .NET 实现版本进行创建，以便可以定位 .NET Standard PCL 中的新 API。</span><span class="sxs-lookup"><span data-stu-id="b016e-178">New [versions of .NET Standard](https://github.com/dotnet/standard/blob/master/docs/versions.md) are created based on .NET implementation releases, enabling you to target new APIs from a .NET Standard PCL.</span></span> <span data-ttu-id="b016e-179">[.NET Core 版本控制](../core/versions/index.md)中更详细介绍了版本控制机制。</span><span class="sxs-lookup"><span data-stu-id="b016e-179">The versioning mechanics are described in more detail in [.NET Core Versioning](../core/versions/index.md).</span></span>

<span data-ttu-id="b016e-180">.NET Standard 版本控制对于库的使用至关重要。</span><span class="sxs-lookup"><span data-stu-id="b016e-180">.NET Standard versioning is important for usage.</span></span> <span data-ttu-id="b016e-181">在 .NET Standard 版本既定的情况下，可以使用定位相同或更低版本的库。</span><span class="sxs-lookup"><span data-stu-id="b016e-181">Given a .NET Standard version, you can use libraries that target that same or lower version.</span></span> <span data-ttu-id="b016e-182">下面的做法介绍了使用 .NET Standard PCL（专用于 .NET Standard 定位）的工作流。</span><span class="sxs-lookup"><span data-stu-id="b016e-182">The following approach describes the workflow for using .NET Standard PCLs, specific to .NET Standard targeting.</span></span>

- <span data-ttu-id="b016e-183">选择要用于 PCL 的 .NET Standard 版本。</span><span class="sxs-lookup"><span data-stu-id="b016e-183">Select a .NET Standard version to use for your PCL.</span></span>
- <span data-ttu-id="b016e-184">使用依赖相同或更低 .NET Standard 版本的库。</span><span class="sxs-lookup"><span data-stu-id="b016e-184">Use libraries that depend on the same .NET Standard version or lower.</span></span>
- <span data-ttu-id="b016e-185">如果发现依赖更高 .NET Standard 版本的库，要么需要采用相同的版本，要么不要使用此库。</span><span class="sxs-lookup"><span data-stu-id="b016e-185">If you find a library that depends on a higher .NET Standard version, you either need to adopt that same version or decide not to use that library.</span></span>

## <a name="targeting-net-standard"></a><span data-ttu-id="b016e-186">定位 .NET Standard</span><span class="sxs-lookup"><span data-stu-id="b016e-186">Targeting .NET Standard</span></span>

<span data-ttu-id="b016e-187">可以结合使用 `netstandard` 框架和 NETStandard.Library 元包来[构建.NET Standard 库](../core/tutorials/libraries.md)。</span><span class="sxs-lookup"><span data-stu-id="b016e-187">You can [build .NET Standard Libraries](../core/tutorials/libraries.md) using a combination of the `netstandard` framework and the NETStandard.Library metapackage.</span></span> <span data-ttu-id="b016e-188">可以查看[使用 .NET Core 工具定位 .NET Standard](../core/packages.md) 的示例。</span><span class="sxs-lookup"><span data-stu-id="b016e-188">You can see examples of [targeting the .NET Standard with .NET Core tools](../core/packages.md).</span></span>

## <a name="net-framework-compatibility-mode"></a><span data-ttu-id="b016e-189">.NET Framework 兼容性模式</span><span class="sxs-lookup"><span data-stu-id="b016e-189">.NET Framework compatibility mode</span></span>

<span data-ttu-id="b016e-190">从 .NET Standard 2.0 开始，引入了 .NET Framework 兼容性模式。</span><span class="sxs-lookup"><span data-stu-id="b016e-190">Starting with .NET Standard 2.0, the .NET Framework compatibility mode was introduced.</span></span> <span data-ttu-id="b016e-191">此兼容性模式允许 .NET Standard 项目引用 .NET Framework 库，就像其针对 .NET Standard 编译一样。</span><span class="sxs-lookup"><span data-stu-id="b016e-191">This compatibility mode allows .NET Standard projects to reference .NET Framework libraries as if they were compiled for .NET Standard.</span></span> <span data-ttu-id="b016e-192">引用 .NET Framework 库并不适用于所有项目，，例如使用 Windows Presentation Foundation (WPF) API 的库。</span><span class="sxs-lookup"><span data-stu-id="b016e-192">Referencing .NET Framework libraries doesn't work for all projects, such as libraries that use Windows Presentation Foundation (WPF) APIs.</span></span>

<span data-ttu-id="b016e-193">有关详细信息，请参阅 [.NET Framework兼容性模式](../core/porting/third-party-deps.md#net-framework-compatibility-mode)。</span><span class="sxs-lookup"><span data-stu-id="b016e-193">For more information, see [.NET Framework compatibility mode](../core/porting/third-party-deps.md#net-framework-compatibility-mode).</span></span>

## <a name="net-standard-libraries-and-visual-studio"></a><span data-ttu-id="b016e-194">.NET Standard 库和 Visual Studio</span><span class="sxs-lookup"><span data-stu-id="b016e-194">.NET Standard libraries and Visual Studio</span></span>

<span data-ttu-id="b016e-195">要在 Visual Studio 中生成 .NET Standard 库，请确保 Windows 上已安装 [Visual Studio 2017 版本 15.3](https://visualstudio.microsoft.com/downloads/?utm_medium=microsoft&utm_source=docs.microsoft.com&utm_campaign=button+cta&utm_content=download+vs2017) 或更高版本，或 macOS 上已安装 [Visual Studio for Mac 版本 7.1](https://visualstudio.microsoft.com/vs/visual-studio-mac/) 或更高版本。</span><span class="sxs-lookup"><span data-stu-id="b016e-195">In order to build .NET Standard libraries in Visual Studio, make sure you have [Visual Studio 2017 version 15.3](https://visualstudio.microsoft.com/downloads/?utm_medium=microsoft&utm_source=docs.microsoft.com&utm_campaign=button+cta&utm_content=download+vs2017) or later installed on Windows, or [Visual Studio for Mac version 7.1](https://visualstudio.microsoft.com/vs/visual-studio-mac/) or later installed on macOS.</span></span>

<span data-ttu-id="b016e-196">如果项目中只需使用 .NET Standard 2.0 库，也可在 Visual Studio 2015 中执行此操作。</span><span class="sxs-lookup"><span data-stu-id="b016e-196">If you only need to consume .NET Standard 2.0 libraries in your projects, you can also do that in Visual Studio 2015.</span></span> <span data-ttu-id="b016e-197">但是需要安装 NuGet client 3.6 或更高版本。</span><span class="sxs-lookup"><span data-stu-id="b016e-197">However, you need NuGet client 3.6 or higher installed.</span></span> <span data-ttu-id="b016e-198">可从 [NuGet 下载](https://www.nuget.org/downloads)页面下载适用于 Visual Studio 2015 的 NuGet 客户端。</span><span class="sxs-lookup"><span data-stu-id="b016e-198">You can download the NuGet client for Visual Studio 2015 from the [NuGet downloads](https://www.nuget.org/downloads) page.</span></span>

## <a name="comparison-to-portable-class-libraries"></a><span data-ttu-id="b016e-199">与可移植类库的比较</span><span class="sxs-lookup"><span data-stu-id="b016e-199">Comparison to Portable Class Libraries</span></span>

<span data-ttu-id="b016e-200">.NET Standard 将取代[可移植类库 (PCL)](./cross-platform/cross-platform-development-with-the-portable-class-library.md)。</span><span class="sxs-lookup"><span data-stu-id="b016e-200">.NET Standard is the replacement for [Portable Class Libraries (PCL)](./cross-platform/cross-platform-development-with-the-portable-class-library.md).</span></span> <span data-ttu-id="b016e-201">.NET Standard 可对标准 BCL 进行组织，从而提高跨 .NET 实现的一致性，改善创建可移植库的体验。</span><span class="sxs-lookup"><span data-stu-id="b016e-201">The .NET Standard improves on the experience of creating portable libraries by curating a standard BCL and establishing greater uniformity across .NET implementations as a result.</span></span> <span data-ttu-id="b016e-202">定位 .NET Standard 的库是 PCL 或“基于 .NET Standard 的 PCL”。</span><span class="sxs-lookup"><span data-stu-id="b016e-202">A library that targets .NET Standard is a PCL or a ".NET Standard-based PCL".</span></span> <span data-ttu-id="b016e-203">现有 PCL 是“基于配置文件的 PCL”。</span><span class="sxs-lookup"><span data-stu-id="b016e-203">Existing PCLs are "profile-based PCLs".</span></span>

<span data-ttu-id="b016e-204">虽然 .NET Standard 和 PCL 配置文件的创建目的类似，但在一些重要方面也存在差异。</span><span class="sxs-lookup"><span data-stu-id="b016e-204">.NET Standard and PCL profiles were created for similar purposes but also differ in key ways.</span></span>

<span data-ttu-id="b016e-205">类似之处：</span><span class="sxs-lookup"><span data-stu-id="b016e-205">Similarities:</span></span>

- <span data-ttu-id="b016e-206">定义可用于二进制代码共享的 API。</span><span class="sxs-lookup"><span data-stu-id="b016e-206">Define APIs that can be used for binary code sharing.</span></span>

<span data-ttu-id="b016e-207">差异：</span><span class="sxs-lookup"><span data-stu-id="b016e-207">Differences:</span></span>

- <span data-ttu-id="b016e-208">.NET Standard 是一套组织有序的 API，而 PCL 配置文件是由现有平台的交集定义。</span><span class="sxs-lookup"><span data-stu-id="b016e-208">.NET Standard is a curated set of APIs, while PCL profiles are defined by intersections of existing platforms.</span></span>
- <span data-ttu-id="b016e-209">.NET Standard 的版本线性递增，而 PCL 配置文件则不是这样。</span><span class="sxs-lookup"><span data-stu-id="b016e-209">.NET Standard linearly versions, while PCL profiles do not.</span></span>
- <span data-ttu-id="b016e-210">PCL 配置文件代表 Microsoft 平台，而 .NET Standard 与平台无关。</span><span class="sxs-lookup"><span data-stu-id="b016e-210">PCL profiles represents Microsoft platforms while the .NET Standard is platform-agnostic.</span></span>

### <a name="pcl-compatibility"></a><span data-ttu-id="b016e-211">PCL 兼容性</span><span class="sxs-lookup"><span data-stu-id="b016e-211">PCL compatibility</span></span>

<span data-ttu-id="b016e-212">.NET Standard 与一部分 PCL 配置文件兼容。</span><span class="sxs-lookup"><span data-stu-id="b016e-212">.NET Standard is compatible with a subset of PCL profiles.</span></span> <span data-ttu-id="b016e-213">.NET Standard 1.0、1.1 和 1.2 分别与一组 PCL 配置文件重叠。</span><span class="sxs-lookup"><span data-stu-id="b016e-213">.NET Standard 1.0, 1.1 and 1.2 each overlap with a set of PCL profiles.</span></span> <span data-ttu-id="b016e-214">这种重叠是由以下两个原因产生的：</span><span class="sxs-lookup"><span data-stu-id="b016e-214">This overlap was created for two reasons:</span></span>

- <span data-ttu-id="b016e-215">使基于 .NET Standard 的 PCL 能够引用基于配置文件的 PCL。</span><span class="sxs-lookup"><span data-stu-id="b016e-215">Enable .NET Standard-based PCLs to reference profile-based PCLs.</span></span>
- <span data-ttu-id="b016e-216">使基于配置文件的 PCL 能够打包为基于 .NET Standard 的 PCL。</span><span class="sxs-lookup"><span data-stu-id="b016e-216">Enable profile-based PCLs to be packaged as .NET Standard-based PCLs.</span></span>

<span data-ttu-id="b016e-217">基于配置文件的 PCL 兼容性由 [Microsoft.NETCore.Portable.Compatibility](https://www.nuget.org/packages/Microsoft.NETCore.Portable.Compatibility) NuGet 包提供。</span><span class="sxs-lookup"><span data-stu-id="b016e-217">Profile-based PCL compatibility is provided by the [Microsoft.NETCore.Portable.Compatibility](https://www.nuget.org/packages/Microsoft.NETCore.Portable.Compatibility) NuGet package.</span></span> <span data-ttu-id="b016e-218">引用包含基于配置文件的 PCL 的 NuGet 包时，需要这种依赖性。</span><span class="sxs-lookup"><span data-stu-id="b016e-218">This dependency is required when referencing NuGet packages that contain profile-based PCLs.</span></span>

<span data-ttu-id="b016e-219">与以常规方式打包的基于配置文件的 PCL 相比，打包为 `netstandard` 的基于配置文件的 PCL 更易于使用。</span><span class="sxs-lookup"><span data-stu-id="b016e-219">Profile-based PCLs packaged as `netstandard` are easier to consume than typically packaged profile-based PCLs.</span></span> <span data-ttu-id="b016e-220">`netstandard` 打包符合现有用户的需要。</span><span class="sxs-lookup"><span data-stu-id="b016e-220">`netstandard` packaging is compatible with existing users.</span></span>

<span data-ttu-id="b016e-221">下面列出了与 .NET Standard 兼容的 PCL 配置文件集：</span><span class="sxs-lookup"><span data-stu-id="b016e-221">You can see the set of PCL profiles that are compatible with the .NET Standard:</span></span>

| <span data-ttu-id="b016e-222">PCL 配置文件</span><span class="sxs-lookup"><span data-stu-id="b016e-222">PCL Profile</span></span> | <span data-ttu-id="b016e-223">.NET Standard</span><span class="sxs-lookup"><span data-stu-id="b016e-223">.NET Standard</span></span> | <span data-ttu-id="b016e-224">PCL 平台</span><span class="sxs-lookup"><span data-stu-id="b016e-224">PCL Platforms</span></span>
|:-----------:|:-------------:|------------------------------------------------------------------------------
| <span data-ttu-id="b016e-225">Profile7</span><span class="sxs-lookup"><span data-stu-id="b016e-225">Profile7</span></span>    | <span data-ttu-id="b016e-226">1.1</span><span class="sxs-lookup"><span data-stu-id="b016e-226">1.1</span></span>           | <span data-ttu-id="b016e-227">.NET Framework 4.5、Windows 8</span><span class="sxs-lookup"><span data-stu-id="b016e-227">.NET Framework 4.5, Windows 8</span></span>
| <span data-ttu-id="b016e-228">Profile31</span><span class="sxs-lookup"><span data-stu-id="b016e-228">Profile31</span></span>   | <span data-ttu-id="b016e-229">1.0</span><span class="sxs-lookup"><span data-stu-id="b016e-229">1.0</span></span>           | <span data-ttu-id="b016e-230">Windows 8.1、Windows Phone Silverlight 8.1</span><span class="sxs-lookup"><span data-stu-id="b016e-230">Windows 8.1, Windows Phone Silverlight 8.1</span></span>
| <span data-ttu-id="b016e-231">Profile32</span><span class="sxs-lookup"><span data-stu-id="b016e-231">Profile32</span></span>   | <span data-ttu-id="b016e-232">1.2</span><span class="sxs-lookup"><span data-stu-id="b016e-232">1.2</span></span>           | <span data-ttu-id="b016e-233">Windows 8.1、Windows Phone 8.1</span><span class="sxs-lookup"><span data-stu-id="b016e-233">Windows 8.1, Windows Phone 8.1</span></span>
| <span data-ttu-id="b016e-234">Profile44</span><span class="sxs-lookup"><span data-stu-id="b016e-234">Profile44</span></span>   | <span data-ttu-id="b016e-235">1.2</span><span class="sxs-lookup"><span data-stu-id="b016e-235">1.2</span></span>           | <span data-ttu-id="b016e-236">.NET Framework 4.5.1、Windows 8.1</span><span class="sxs-lookup"><span data-stu-id="b016e-236">.NET Framework 4.5.1, Windows 8.1</span></span>
| <span data-ttu-id="b016e-237">Profile49</span><span class="sxs-lookup"><span data-stu-id="b016e-237">Profile49</span></span>   | <span data-ttu-id="b016e-238">1.0</span><span class="sxs-lookup"><span data-stu-id="b016e-238">1.0</span></span>           | <span data-ttu-id="b016e-239">.NET Framework 4.5、Windows Phone Silverlight 8</span><span class="sxs-lookup"><span data-stu-id="b016e-239">.NET Framework 4.5, Windows Phone Silverlight 8</span></span>
| <span data-ttu-id="b016e-240">Profile78</span><span class="sxs-lookup"><span data-stu-id="b016e-240">Profile78</span></span>   | <span data-ttu-id="b016e-241">1.0</span><span class="sxs-lookup"><span data-stu-id="b016e-241">1.0</span></span>           | <span data-ttu-id="b016e-242">.NET Framework 4.5、Windows 8、Windows Phone Silverlight 8</span><span class="sxs-lookup"><span data-stu-id="b016e-242">.NET Framework 4.5, Windows 8, Windows Phone Silverlight 8</span></span>
| <span data-ttu-id="b016e-243">Profile84</span><span class="sxs-lookup"><span data-stu-id="b016e-243">Profile84</span></span>   | <span data-ttu-id="b016e-244">1.0</span><span class="sxs-lookup"><span data-stu-id="b016e-244">1.0</span></span>           | <span data-ttu-id="b016e-245">Windows Phone 8.1、Windows Phone Silverlight 8.1</span><span class="sxs-lookup"><span data-stu-id="b016e-245">Windows Phone 8.1, Windows Phone Silverlight 8.1</span></span>
| <span data-ttu-id="b016e-246">Profile111</span><span class="sxs-lookup"><span data-stu-id="b016e-246">Profile111</span></span>  | <span data-ttu-id="b016e-247">1.1</span><span class="sxs-lookup"><span data-stu-id="b016e-247">1.1</span></span>           | <span data-ttu-id="b016e-248">.NET Framework 4.5、Windows 8、Windows Phone 8.1</span><span class="sxs-lookup"><span data-stu-id="b016e-248">.NET Framework 4.5, Windows 8, Windows Phone 8.1</span></span>
| <span data-ttu-id="b016e-249">Profile151</span><span class="sxs-lookup"><span data-stu-id="b016e-249">Profile151</span></span>  | <span data-ttu-id="b016e-250">1.2</span><span class="sxs-lookup"><span data-stu-id="b016e-250">1.2</span></span>           | <span data-ttu-id="b016e-251">.NET Framework 4.5.1、Windows 8.1、Windows Phone 8.1</span><span class="sxs-lookup"><span data-stu-id="b016e-251">.NET Framework 4.5.1, Windows 8.1, Windows Phone 8.1</span></span>
| <span data-ttu-id="b016e-252">Profile157</span><span class="sxs-lookup"><span data-stu-id="b016e-252">Profile157</span></span>  | <span data-ttu-id="b016e-253">1.0</span><span class="sxs-lookup"><span data-stu-id="b016e-253">1.0</span></span>           | <span data-ttu-id="b016e-254">Windows 8.1、Windows Phone 8.1、Windows Phone Silverlight 8.1</span><span class="sxs-lookup"><span data-stu-id="b016e-254">Windows 8.1, Windows Phone 8.1, Windows Phone Silverlight 8.1</span></span>
| <span data-ttu-id="b016e-255">Profile259</span><span class="sxs-lookup"><span data-stu-id="b016e-255">Profile259</span></span>  | <span data-ttu-id="b016e-256">1.0</span><span class="sxs-lookup"><span data-stu-id="b016e-256">1.0</span></span>           | <span data-ttu-id="b016e-257">.NET Framework 4.5、Windows 8, Windows Phone 8.1、Windows Phone Silverlight 8</span><span class="sxs-lookup"><span data-stu-id="b016e-257">.NET Framework 4.5, Windows 8, Windows Phone 8.1, Windows Phone Silverlight 8</span></span>

## <a name="see-also"></a><span data-ttu-id="b016e-258">请参阅</span><span class="sxs-lookup"><span data-stu-id="b016e-258">See also</span></span>

- [<span data-ttu-id="b016e-259">.NET Standard 版本</span><span class="sxs-lookup"><span data-stu-id="b016e-259">.NET Standard Versions</span></span>](https://github.com/dotnet/standard/blob/master/docs/versions.md)
